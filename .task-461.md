# Task Plan for Issue #461: Tool Call Parsing Error: Failed to parse tool_forge_event_dispatch arguments

## Issue Details

**Title**: Tool Call Parsing Error: Failed to parse tool_forge_event_dispatch arguments

**Description**:
The issue reports random errors when making tool calls with the following error message:

```
Failed to parse tool call: [ToolCallPart { call_id: Some(ToolCallId("toolu_017seav7Ng1vXMKrXdqmRh8b")), name: Some(ToolName("tool_forge_event_dispatch")), arguments_part: "" }, ToolCallPart { call_id: None, name: None, arguments_part: "" }, ToolCallPart { call_id: None, name: None, arguments_part: "{"id": "" }, ToolCallPart { call_id: None, name: None, arguments_part: "time_ret" }, ToolCallPart { call_id: None, name: None, arguments_part: "rieval" }, ToolCallPart { call_id: None, name: None, arguments_part: """ }]
Caused by: Invalid tool call arguments: EOF while parsing an object at line 1 column 23 [tokens 4502/87/4589]
```

**Observed Behavior**:
- Error occurs randomly
- Tool call argument JSON appears to be malformed
- The string "time_retrieval" is split across multiple argument parts
- Happening for the Title agent

## Plan

1. **Investigate the Tool Call Parsing Logic**
   - Examine the current implementation in `forge_domain/src/tool_call_parser.rs`
   - Identify how tool call parts are being parsed and assembled
   - Understand how the parser handles fragmented JSON across multiple parts

2. **Reproduce the Issue**
   - Create a test case that simulates fragmented tool call arguments
   - Focus on reproducing the specific case where a string value is split across multiple parts

3. **Fix the Tool Call Parser**
   - Modify the parser to handle fragmented JSON properly
   - Implement a more robust method to assemble fragmented arguments before parsing them as JSON
   - Add special handling for cases where string literals are split across parts

4. **Add Error Handling and Logging**
   - Improve error messages to provide more context about parsing failures
   - Add more detailed logging to help diagnose similar issues in the future

5. **Write Tests**
   - Create unit tests for the fixed parser with various fragmentation scenarios
   - Include the specific "time_retrieval" case from the issue

6. **Verify Solution**
   - Ensure the parser correctly handles all test cases
   - Verify that the previously failing case now works correctly

## Requirements

1. The tool call parser must correctly handle fragmented JSON arguments
2. The parser must properly reassemble strings that are split across multiple argument parts
3. Error messages should be informative and help debug similar issues
4. The solution must maintain compatibility with existing code
5. Unit tests must cover the fixed functionality
6. Performance impact should be minimal

## Potential Implementation Approach

The issue appears to be related to how tool call arguments are being parsed when split across multiple parts. The current implementation likely tries to parse each part individually, but when a JSON string is split (like "time_ret" + "rieval"), this leads to invalid JSON.

The fix will likely involve:
1. Concatenating all argument parts before attempting to parse them as JSON
2. Adding more robust error handling to detect and report malformed JSON
3. Possibly adding a pre-processing step to handle special cases with fragmented strings
