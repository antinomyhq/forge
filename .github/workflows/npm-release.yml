# -------------------------------------------------------------------
# ------------------------------- WARNING ---------------------------
# -------------------------------------------------------------------
#
# This file was automatically generated by gh-workflows using the
# gh-workflow-gen bin. You should add and commit this file to your
# git repository. **DO NOT EDIT THIS FILE BY HAND!** Any manual changes
# will be lost if the file is regenerated.
#
# To make modifications, update your `build.rs` configuration to adjust
# the workflow description as needed, then regenerate this file to apply
# those changes.
#
# -------------------------------------------------------------------
# ----------------------------- END WARNING -------------------------
# -------------------------------------------------------------------

name: NPM Release
on:
  release:
    types:
    - published
permissions:
  contents: write
  pull-requests: write
jobs:
  npm_release:
    name: npm_release
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        repository: antinomyhq/npm-code-forge
        ref: main
        token: ${{ secrets.NPM_ACCESS }}
    - run: ./update-package.sh ${{ github.event.release.tag_name }}
      env:
        AUTO_PUSH: 'true'
        CI: 'true'
        NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
