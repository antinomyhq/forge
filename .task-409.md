# Task: Implement Support for Custom Commands (Issue #409)

## Original Issue Details

**Title:** Feature Request: Support for Custom Commands

**Description:**
Currently, Code-Forge supports built-in commands like `/new` and `/info`. This feature request proposes extending the command system to support a standardized format for custom commands that can trigger custom event handling.

For example: `/dispatch-gh-issue Create an issue to update the version of tokio` would fire an event with name "gh-issue" and value "Create an issue to update the version of tokio", which could then trigger custom handling.

## Implementation Plan

I'll implement a feature that allows users to use custom commands with the format `/dispatch-event_name value`, which will trigger custom event handling. My implementation will:

1. Extend the `Command` enum with a new `Dispatch` variant
2. Add a new `dispatch` method to the API trait
3. Update the command parser to recognize and properly handle dispatch commands
4. Implement event validation to ensure names follow specified format
5. Update the main UI to handle custom dispatch commands
6. Add comprehensive test coverage

## Requirements and Acceptance Criteria

### Command Format
- Format: `/dispatch-event_name value`
- Event names must contain only alphanumeric characters, underscores, and hyphens
- Values can be empty
- Spaces in values will be preserved

### API Changes
- Add new `dispatch` method to the `API` trait
- Implement proper error handling and validation

### User Experience
- Clear feedback on successful/failed dispatch
- Proper error messages for invalid event names
- Consistent behavior with other commands

### Testing
- Unit tests for command parsing
- Unit tests for event name validation
- Integration tests for the entire dispatch flow

## Files to Modify

1. `crates/forge_api/src/lib.rs` - Add dispatch method to API trait
2. `crates/forge_api/src/api.rs` - Implement dispatch in ForgeAPI
3. `crates/forge_main/src/model.rs` - Update Command enum and parsing
4. `crates/forge_main/src/ui.rs` - Handle dispatch commands
5. `crates/forge_domain/src/dispatch_event.rs` - Add event name validation

## Implementation Progress

- [ ] Add dispatch method to API trait
- [ ] Implement dispatch method in ForgeAPI
- [ ] Update Command enum with Dispatch variant
- [ ] Add command parsing for dispatch commands
- [ ] Add event name validation
- [ ] Update UI to handle dispatch commands
- [ ] Add tests for dispatch command functionality
