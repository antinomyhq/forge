# Task Plan for Issue #549: Implement a `/agents` Command

## Issue Details

**Title**: feat: implement a `/agents` command  
**State**: OPEN  
**Author**: amitksingh1490  
**Labels**: forge-automate  
**Issue Number**: 549  

**Description**:
- Should show agent details such as tools, events it has subscribed to, and the model.
- Agents should be read from the active workflow.
- Display should be optimized for terminal with good looking ANSI color codes.
- Refer to `/info` implementation for colors.

## Plan

### 1. Research and Exploration
1. Examine the existing command structure, particularly `/info` command implementation for similar UI patterns
2. Understand how workflows and agents are currently loaded and stored in the system
3. Identify the data structures that contain agent information (tools, subscribed events, models)
4. Analyze the terminal display utilities for applying ANSI color codes

### 2. Design the Command Structure
1. Create a new command in the CLI framework matching the existing pattern
2. Design the output format to show:
   - Agent names
   - Associated models
   - Tools available to each agent
   - Events the agents subscribe to
3. Design flags or options for the command (e.g., `--json` for machine-readable output)

### 3. Implementation Steps
1. Add the new `/agents` command to the command handler in CLI code
2. Implement the function to retrieve agent information from active workflows
3. Create a structured display for agent information:
   - Use tables or structured output with appropriate column widths
   - Apply consistent color coding (using same color theme as `/info`)
   - Format tool lists and event subscriptions for readability
4. Add appropriate error handling for cases where:
   - No workflow is active
   - Workflow contains no agents
   - Data is incomplete

### 4. Testing
1. Test with various workflow configurations:
   - Single agent
   - Multiple agents
   - Agents with various tool combinations
   - Agents with different event subscriptions
2. Verify all expected information is displayed
3. Validate terminal display formatting is correct with ANSI colors

### 5. Documentation
1. Update any internal documentation to include the new command
2. Add usage examples to help text

## Requirements

### Functional Requirements
1. Command must display all agents from the active workflow
2. For each agent, show:
   - Agent name
   - Associated model
   - Available tools
   - Subscribed events
3. Output must be formatted with ANSI color codes for better readability
4. Layout should be optimized for terminal viewing

### Technical Requirements
1. Follow the existing command implementation patterns
2. Utilize existing color utilities similar to `/info` command
3. Ensure proper error handling for edge cases
4. Maintain code quality and testing standards

### Acceptance Criteria
1. User can run `/agents` command to see a list of all agents
2. Information displayed is complete (name, model, tools, events)
3. Terminal output is well-formatted with appropriate use of ANSI colors
4. Command responds appropriately to error conditions
5. Command follows the same design patterns as other built-in commands
