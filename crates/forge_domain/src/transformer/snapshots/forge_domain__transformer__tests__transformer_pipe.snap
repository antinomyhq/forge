---
source: crates/forge_domain/src/transformer/mod.rs
expression: snapshot
---
transformation: TransformToolCalls.pipe(ImageHandling)
before:
  messages:
    - message:
        text:
          role: System
          content: System message
    - message:
        text:
          role: Assistant
          content: "I'll help you"
          tool_calls:
            - name: test_tool
              call_id: call_123
              arguments:
                param: value
    - message:
        tool:
          name: test_tool
          call_id: call_123
          output:
            is_error: false
            values:
              - text: Tool result text
after:
  messages:
    - message:
        text:
          role: System
          content: System message
    - message:
        text:
          role: Assistant
          content: "I'll help you"
    - message:
        text:
          role: User
          content: Tool result text
