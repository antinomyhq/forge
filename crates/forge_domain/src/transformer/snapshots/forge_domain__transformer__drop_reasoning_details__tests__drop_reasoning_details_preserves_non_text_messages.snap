---
source: crates/forge_domain/src/transformer/drop_reasoning_details.rs
expression: snapshot
---
transformation: DropReasoningDetails_preserve_non_text
before:
  messages:
    - message:
        text:
          role: User
          content: User with reasoning
          reasoning_details:
            - text: User reasoning
              signature: ~
              data: ~
              id: ~
              format: ~
              index: ~
              type_of: ~
    - message:
        image:
          url: "data:image/png;base64,image_data"
          mime_type: image/png
    - message:
        tool:
          name: preserve_tool
          call_id: call_preserve
          output:
            is_error: false
            values:
              - text: Tool output
  reasoning:
    enabled: true
after:
  messages:
    - message:
        text:
          role: User
          content: User with reasoning
    - message:
        image:
          url: "data:image/png;base64,image_data"
          mime_type: image/png
    - message:
        tool:
          name: preserve_tool
          call_id: call_preserve
          output:
            is_error: false
            values:
              - text: Tool output
